{"version":3,"sources":["uni_modules/zziyy-calendar/utssdk/app-android/index.uts","uni_modules/zziyy-calendar/utssdk/interface.uts"],"sourcesContent":["import {\n\tUTSAndroid\n} from \"io.dcloud.uts\";\n\nimport { AddParams, AddOptions, DeleteParams, DeleteOptions, Results } from \"../interface.uts\"\n\nimport ActivityCompat from \"androidx.core.app.ActivityCompat\";\nimport Context from 'android.content.Context';\nimport ContentUris from 'android.content.ContentUris';\nimport ContentValues from 'android.content.ContentValues';\nimport Color from 'android.graphics.Color';\nimport Cursor from 'android.database.Cursor';\nimport Uri from 'android.net.Uri';\nimport CalendarContract from 'android.provider.CalendarContract';\nimport Calendar from 'java.util.Calendar';\nimport TimeZone from 'java.util.TimeZone';\nimport Long from 'java.lang.Long';\nimport kotlinLong from 'kotlin.Long';\nimport Manifest from \"android.Manifest\";\nimport PackageManager from \"android.content.pm.PackageManager\";\nimport TextUtils from 'android.text.TextUtils';\n\nconst CALENDER_URL : string = \"content://com.android.calendar/calendars\"; //  \nconst CALENDER_EVENT_URL : string = \"content://com.android.calendar/events\"; //  \nconst CALENDER_REMINDER_URL : string = \"content://com.android.calendar/reminders\"; //  \n\nconst CALENDARS_NAME : string = \"test\"; //  \nconst CALENDARS_ACCOUNT_NAME : string = \"test@qq.com\"; // \nconst CALENDARS_ACCOUNT_TYPE : string = \"com.android.test\"; // \nconst CALENDARS_DISPLAY_NAME : string = \"test\"; // \n\n\nclass CalendarUtils {\n\n\tconstructor() {\n\n\t}\n\t/**\n\t* 检查是否已经添加了日历账户，如果没有添加先添加一个日历账户再查询\n\t* 获取账户成功返回账户id，否则返回-1\n\t*/\n\tcheckAndAddAccount(context : Context) : number {\n\t\tlet oldId = this.checkAccount(context);\n\t\tif (oldId >= 0) {\n\t\t\treturn oldId;\n\t\t} else {\n\t\t\tlet addId = this.addAccount(context);\n\t\t\tif (addId >= 0) {\n\t\t\t\treturn this.checkAccount(context);\n\t\t\t} else {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 检查是否存在现有账户，存在则返回账户id，否则返回-1\n\t */\n\tcheckAccount(context : Context) : number {\n\t\tlet userCursor = context.getContentResolver().query(Uri.parse(CALENDER_URL), null, null, null, null);\n\t\ttry {\n\t\t\tif (userCursor == null) { //查询返回空值\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tlet count = userCursor.getCount();\n\t\t\tif (count > 0) { //存在现有账户，取第一个账户的id返回\n\t\t\t\tuserCursor.moveToFirst();\n\t\t\t\treturn userCursor.getInt(userCursor.getColumnIndex(CalendarContract.Calendars._ID));\n\t\t\t} else {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t} finally {\n\t\t\tif (userCursor != null) {\n\t\t\t\tuserCursor.close();\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/**\n\t * 添加日历账户，账户创建成功则返回账户id，否则返回-1\n\t */\n\taddAccount(context : Context) : number {\n\t\tlet timeZone = TimeZone.getDefault();\n\t\tlet value = new ContentValues();\n\t\tvalue.put(CalendarContract.Calendars.NAME, CALENDARS_NAME);\n\t\tvalue.put(CalendarContract.Calendars.ACCOUNT_NAME, CALENDARS_ACCOUNT_NAME);\n\t\tvalue.put(CalendarContract.Calendars.ACCOUNT_TYPE, CALENDARS_ACCOUNT_TYPE);\n\t\tvalue.put(CalendarContract.Calendars.CALENDAR_DISPLAY_NAME, CALENDARS_DISPLAY_NAME);\n\t\tvalue.put(CalendarContract.Calendars.VISIBLE, '1');\n\t\tvalue.put(CalendarContract.Calendars.CALENDAR_COLOR, '' + Color.BLUE);\n\t\tvalue.put(CalendarContract.Calendars.CALENDAR_ACCESS_LEVEL, CalendarContract.Calendars.CAL_ACCESS_OWNER);\n\t\tvalue.put(CalendarContract.Calendars.SYNC_EVENTS, '1');\n\t\tvalue.put(CalendarContract.Calendars.CALENDAR_TIME_ZONE, timeZone.getID());\n\t\tvalue.put(CalendarContract.Calendars.OWNER_ACCOUNT, CALENDARS_ACCOUNT_NAME);\n\t\tvalue.put(CalendarContract.Calendars.CAN_ORGANIZER_RESPOND, '0');\n\n\t\tlet calendarUri = Uri.parse(CALENDER_URL);\n\t\tcalendarUri = calendarUri.buildUpon()\n\t\t\t.appendQueryParameter(CalendarContract.CALLER_IS_SYNCADAPTER, \"true\")\n\t\t\t.appendQueryParameter(CalendarContract.Calendars.ACCOUNT_NAME, CALENDARS_ACCOUNT_NAME)\n\t\t\t.appendQueryParameter(CalendarContract.Calendars.ACCOUNT_TYPE, CALENDARS_ACCOUNT_TYPE)\n\t\t\t.build();\n\n\t\tlet result = context.getContentResolver().insert(calendarUri, value);\n\t\tlet id = result == null ? -1 : ContentUris.parseId(result);\n\t\treturn id;\n\t}\n\n\n\t/**\n\t * 添加日历事件\n\t */\n\taddEvent(params : AddParams) {\n\n\t\tlet title : string = params.title\n\t\tlet description : string = params.description + ''\n\t\tlet dtstart : string = params.dtstart + ''\n\t\tlet reminder : number = params.reminder\n\t\tlet location : string = params.location + ''\n\t\tlet context : Context = UTSAndroid.getUniActivity()!.getApplicationContext();\n\t\tif (context === null) {\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(\"addEvent\");\n\t\tlet calId : number = this.checkAndAddAccount(context); //获取日历账户的id\n\t\tif (calId < 0) { //获取账户id失败直接返回，添加日历事件失败\n\t\t\treturn;\n\t\t}\n\t\t//添加日历事件\n\t\tlet mCalendar = Calendar.getInstance();\n\t\tmCalendar.setTimeInMillis(Long.parseLong(dtstart));//设置开始时间（开始时间的毫秒数）\n\t\tlet start = mCalendar.getTime().getTime();\n\t\tmCalendar.setTimeInMillis(start + 10 * 60 * 1000);//设置终止时间，开始时间加10分钟\n\t\tlet end = mCalendar.getTime().getTime();\n\t\tlet event = new ContentValues();\n\t\tevent.put(CalendarContract.Events.TITLE, title);//标题\n\t\tevent.put(CalendarContract.Events.EVENT_LOCATION, location) //副标题\n\t\tevent.put(CalendarContract.Events.DESCRIPTION, description);\n\t\tevent.put(CalendarContract.Events.CALENDAR_ID, \"\" + calId); //插入账户的id\n\t\tevent.put(CalendarContract.Events.DTSTART, \"\" + start);\n\t\tevent.put(CalendarContract.Events.DTEND, \"\" + end);\n\t\tevent.put(CalendarContract.Events.HAS_ALARM, \"\" + 1);//设置有闹钟提醒\n\t\tevent.put(CalendarContract.Events.EVENT_TIMEZONE, \"Asia/Shanghai\");//这个是时区，必须有\n\t\tlet newEvent = context.getContentResolver().insert(Uri.parse(CALENDER_EVENT_URL), event); //添加事件\n\t\tif (newEvent == null) { //添加日历事件失败直接返回\n\t\t\treturn;\n\t\t}\n\t\t//事件提醒的设定\n\t\tlet values = new ContentValues();\n\t\tvalues.put(CalendarContract.Reminders.EVENT_ID, \"\" + ContentUris.parseId(newEvent));\n\t\tvalues.put(CalendarContract.Reminders.MINUTES, \"\" + reminder); // 提前reminder分钟有提醒，\n\t\tvalues.put(CalendarContract.Reminders.METHOD, CalendarContract.Reminders.METHOD_ALERT);\n\t\tlet uri = context.getContentResolver().insert(Uri.parse(CALENDER_REMINDER_URL), values);\n\t\tif (uri == null) { //添加事件提醒失败直接返回\n\t\t\treturn;\n\t\t}\n\t}\n\t/**\n\t * 删除日历事件\n\t */\n\tdeleteEvent(title : string) {\n\t\tlet context : Context = UTSAndroid.getUniActivity()!.getApplicationContext();\n\t\tif (context === null) {\n\t\t\treturn;\n\t\t}\n\t\tlet eventCursor = context.getContentResolver().query(Uri.parse(CALENDER_EVENT_URL), null, null, null, null);\n\t\ttry {\n\t\t\tif (eventCursor == null) { //查询返回空值\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (eventCursor.getCount() > 0) {\n\t\t\t\t//遍历所有事件，找到title跟需要查询的title一样的项\n\t\t\t\tfor (eventCursor.moveToFirst(); !eventCursor.isAfterLast(); eventCursor.moveToNext()) {\n\t\t\t\t\tlet eventTitle : string = eventCursor.getString(eventCursor.getColumnIndex(\"title\"));\n\t\t\t\t\tif (!TextUtils.isEmpty(title) && title.equals(eventTitle)) {\n\t\t\t\t\t\tlet id = eventCursor.getLong(eventCursor.getColumnIndex(CalendarContract.Calendars._ID));//取得id\n\t\t\t\t\t\tlet deleteUri = ContentUris.withAppendedId(Uri.parse(CALENDER_EVENT_URL), id);\n\t\t\t\t\t\tlet rows : Int = context.getContentResolver().delete(deleteUri, null, null);\n\t\t\t\t\t\tif (rows == -1) { //事件删除失败\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} finally {\n\t\t\tif (eventCursor != null) {\n\t\t\t\teventCursor.close();\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n/**\n * 添加日历提醒\n */\nexport function calendarAdd(opts : AddOptions) {\n\n\t// 检查相关权限是否已经具备\n\tif (ActivityCompat.checkSelfPermission(UTSAndroid.getUniActivity()!, Manifest.permission.WRITE_CALENDAR) != PackageManager.PERMISSION_GRANTED) {\n\t\t// 不具备权限，申请权限，并且告知用户监听失败\n\t\tActivityCompat.requestPermissions(UTSAndroid.getUniActivity()!, arrayOf(Manifest.permission.WRITE_CALENDAR), 1001)\n\n\t\t// 因权限缺失导致监听失败\n\t\tconst ret : Results = {\n\t\t\tcode: -1,\n\t\t\tdata: \"权限\",\n\t\t\tmsg: \"不具备权限，请申请权限\"\n\t\t}\n\t\topts.fail(ret);\n\n\t} else {\n\t\t\n\t\tif (ActivityCompat.checkSelfPermission(UTSAndroid.getUniActivity()!, Manifest.permission.READ_CALENDAR) != PackageManager.PERMISSION_GRANTED) {\n\t\t\t// 不具备权限，申请权限，并且告知用户监听失败\n\t\t\tActivityCompat.requestPermissions(UTSAndroid.getUniActivity()!, arrayOf(Manifest.permission.READ_CALENDAR), 1001)\n\t\t\n\t\t\t// 因权限缺失导致监听失败\n\t\t\tconst ret : Results = {\n\t\t\t\tcode: -1,\n\t\t\t\tdata: \"权限\",\n\t\t\t\tmsg: \"不具备权限，请申请权限\"\n\t\t\t}\n\t\t\topts.fail(ret);\n\t\t}\n\t\tlet calendar_utils : CalendarUtils = new CalendarUtils();\n\t\tlet params : AddParams = opts.params\n\n\n\t\tcalendar_utils.addEvent(params);\n\t\tconst ret : Results = {\n\t\t\tcode: 1,\n\t\t\tdata: \"成功\",\n\t\t\tmsg: \"添加提醒成功\"\n\t\t}\n\t\topts.success(ret);\n\t}\n\n\topts.complete();\n}\n\n/**\n * 删除日历提醒\n */\nexport function calendarDelete(opts : DeleteOptions) {\n\n\t// 检查相关权限是否已经具备\n\tif (ActivityCompat.checkSelfPermission(UTSAndroid.getUniActivity()!, Manifest.permission.WRITE_CALENDAR) != PackageManager.PERMISSION_GRANTED) {\n\t\t// 不具备权限，申请权限，并且告知用户监听失败\n\t\tActivityCompat.requestPermissions(UTSAndroid.getUniActivity()!, arrayOf(Manifest.permission.WRITE_CALENDAR), 1001)\n\n\t\t// 因权限缺失导致监听失败\n\t\tconst ret : Results = {\n\t\t\tcode: -1,\n\t\t\tdata: \"权限\",\n\t\t\tmsg: \"不具备权限，请申请权限\"\n\t\t}\n\t\topts.fail(ret);\n\n\t} else {\n\t\tlet calendar_utils : CalendarUtils = new CalendarUtils();\n\t\tlet params : DeleteParams = opts.params\n\t\tcalendar_utils.deleteEvent(params.title);\n\t\tconst ret : Results = {\n\t\t\tcode: 1,\n\t\t\tdata: \"成功\",\n\t\t\tmsg: \"删除提醒成功\"\n\t\t}\n\t\topts.success(ret);\n\t}\n\n\topts.complete();\n\n}\n","export type AddParams = {\n\tname : string, //日历账号名称\n\ttitle : string, //标题\n\tlocation ?: string, //地址\n\tdescription : string | null, //描述\n\tdtstart : number, //开始时间戳毫秒\n\tdtend : number, //结束时间戳毫秒\n\treminder : number, //多少分钟前提醒\n}\nexport type DeleteParams = {\n\ttitle : string, //标题\n}\n\nexport type Results = {\n\tcode : number,\n\tdata : string | null,\n\tmsg : string,\n}\n\nexport type AddOptions = {\n\tparams : AddParams;\n\tsuccess : (res : Results) => void;\n\tfail : (err : Results) => void;\n\tcomplete : () => void;\n}\nexport type DeleteOptions = {\n\tparams : DeleteParams;\n\tsuccess : (res : Results) => void;\n\tfail : (err : Results) => void;\n\tcomplete : () => void;\n}\n"],"names":[],"mappings":"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"}