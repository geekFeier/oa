{"version":3,"sources":["webpack:////Users/zhou/node/彭涛/cloud-office-uni-master/cloud-office-app/components/tki-tree/tki-tree.vue?5123","webpack:////Users/zhou/node/彭涛/cloud-office-uni-master/cloud-office-app/components/tki-tree/tki-tree.vue?6780","webpack:////Users/zhou/node/彭涛/cloud-office-uni-master/cloud-office-app/components/tki-tree/tki-tree.vue?b6f6","webpack:////Users/zhou/node/彭涛/cloud-office-uni-master/cloud-office-app/components/tki-tree/tki-tree.vue?233c","uni-app:///components/tki-tree/tki-tree.vue","webpack:////Users/zhou/node/彭涛/cloud-office-uni-master/cloud-office-app/components/tki-tree/tki-tree.vue?3295","webpack:////Users/zhou/node/彭涛/cloud-office-uni-master/cloud-office-app/components/tki-tree/tki-tree.vue?8d67"],"names":["name","components","UniChooseGroup","UniChooseBtn","props","range","type","default","idKey","rangeKey","title","multiple","selectParent","foldAll","confirmColor","cancelColor","titleColor","currentIcon","defaultIcon","lastIcon","border","checkAble","checked","data","showTree","treeList","selectIndex","ids","computed","mounted","methods","chooseChange","onItemClick","console","setDefChoose","hasChecked","_show","_hide","_cancel","_confirm","obj","rt","_renderTreeList","list","id","source","parentId","parents","rank","showChild","open","show","hideArr","orChecked","parentArr","childrenid","parentid","_defaultSelect","v2","_treeItemTap","item","childItem","_treeItemSelect","_fixMultiple","_reTreeList","_initTree","watch"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4I;AAC5I;AAC4D;AACL;AACqC;;;AAG5F;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,0GAAM;AACR,EAAE,mHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAq1B,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBC6Cz2B;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;QACA;MACA;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MAAA;MACAL;MACAC;MACA;IACA;;IACAK;MAAA;MACAN;MACAC;IACA;IACAM;MAAA;MACAP;MACAC;IACA;IACAO;MAAA;MACAR;MACAC;IACA;;IACAQ;MAAA;MACAT;MACAC;IACA;;IACAS;MAAA;MACAV;MACAC;IACA;;IACAU;MAAA;MACAX;MACAC;IACA;IACAW;MAAA;MACAZ;MACAC;IACA;IACAY;MAAA;MACAb;MACAC;IACA;IACAa;MAAA;MACAd;MACAC;IACA;IACAc;MACAf;MACAC;QACA;MACA;IACA;IACAe;MACAhB;MACAC;QACA;MACA;IACA;EACA;EACAgB;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC,WAEA;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACAC;MACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAC;MAAA;MACAD;MACA;QACA;QACA;UACA;UACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAE;MACA;QACA;QACA;QACA;MACA;QACA;UACA;QACA;QACA;MACA;IAEA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;MACA;QACA;UACAA;UACAA;UACAA;UACA;UACA;UACAC;QACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;MAAA;MAAA;MAAA;MACAC;QACA;UACAC;UACA5C;UACA6C;UACAC;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;UACAC;UACA/B;QACA;QACA;UAAA;UACA;UACA;YACAgC;YACAC;UACA;UACAC;UACAF,qFACA,kFACA,0DACA;UACA;QACA;UACA;QACA;MACA;MACA;IACA;IACA;IACAG;MAAA;MACA;QACA;UACA;YACA;cACAC;cACA;gBACAA;gBACAA;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MACA;MACAC;MACAA;MACAjB;QACA;UACA;UACA;YACA;UACA;UACA;YACA;cACAkB;YACA;YACA;YACA;cACAA;YACA;UACA;YACA;cACAA;YACA;UACA;UACAA;QACA;UACA;UACA;YACAA;UACA;UACA;UACA;YACA;YACA;cACAA;cACA;gBACAA;cACA;gBACAA;cACA;cACAA;YACA;YACA;UACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;MACA;MACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACA7D;MACA;IACA;IACAM;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;EACA;AAEA;AAAA,4B;;;;;;;;;;;;AC3WA;AAAA;AAAA;AAAA;AAAguC,CAAgB,2nCAAG,EAAC,C;;;;;;;;;;;ACApvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/tki-tree/tki-tree.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tki-tree.vue?vue&type=template&id=a8274bb8&scoped=true&xlang=wxml&\"\nvar renderjs\nimport script from \"./tki-tree.vue?vue&type=script&lang=js&\"\nexport * from \"./tki-tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tki-tree.vue?vue&type=style&index=0&id=a8274bb8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a8274bb8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/tki-tree/tki-tree.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-tree.vue?vue&type=template&id=a8274bb8&scoped=true&xlang=wxml&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.treeList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.checkAble(item)\n    if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n      _vm.$setScopedSlotsParams(\"default\", {\n        item: $orig,\n      })\n    }\n    return {\n      $orig: $orig,\n      m0: m0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-tree.vue?vue&type=script&lang=js&\"","<template xlang=\"wxml\">\n\t<view class=\"tki-tree\">\n\t\t<!-- <view class=\"tki-tree-mask\" :class=\"{'show':showTree}\" @tap=\"_cancel\"></view> -->\n\t\t<view class=\"tki-tree-cnt\" :class=\"{'show':showTree}\">\n\t\t\t<!-- \t<view class=\"tki-tree-bar\">\n\t\t\t\t<view class=\"tki-tree-bar-cancel\" :style=\"{'color':cancelColor}\" hover-class=\"hover-c\" @tap=\"_cancel\">取消</view>\n\t\t\t\t<view class=\"tki-tree-bar-title\" :style=\"{'color':titleColor}\">{{title}}</view>\n\t\t\t\t<view class=\"tki-tree-bar-confirm\" :style=\"{'color':confirmColor}\" hover-class=\"hover-c\" @tap=\"_confirm\">确定</view>\n\t\t\t</view> -->\n\t\t\t<view class=\"tki-tree-view\">\n\t\t\t\t<scroll-view class=\"tki-tree-view-sc\" :scroll-y=\"true\">\n\t\t\t\t\t<uni-choose-group ref=\"chooser\" :mult=\"multiple\" @change=\"chooseChange\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<block v-for=\"(item, index) in treeList\" :key=\"index\" class=\"flex\">\n\t\t\t\t\t\t\t\t<view class=\"tki-tree-item\" :style=\"[{\n\t\t\t\t\t\t\tpaddingLeft: item.rank*15 + 'px',\n\t\t\t\t\t\t\tzIndex: item.rank*-1 +50\n\t\t\t\t\t\t}]\"\n\t\t\t\t\t\t\t\t :class=\"{\n\t\t\t\t\t\t\tborder: border === true,\n\t\t\t\t\t\t\tshow: item.show,\n\t\t\t\t\t\t\tlast: item.lastRank,\n\t\t\t\t\t\t\tshowchild: item.showChild,\n\t\t\t\t\t\t\topen: item.open,\n\t\t\t\t\t\t}\">\n\t\t\t\t\t\t\t\t\t<view class=\"tki-tree-label\" @tap.stop=\"_treeItemTap(item, index)\">\n\t\t\t\t\t\t\t\t\t\t<image class=\"tki-tree-icon\" :src=\"item.lastRank ? lastIcon : item.showChild ? currentIcon : defaultIcon\"></image>\n\t\t\t\t\t\t\t\t\t\t<slot v-bind:item=\"item\">\n\t\t\t\t\t\t\t\t\t\t\t<text>{{item.name}}</text>\n\t\t\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<uni-choose-btn :ids=\"ids\"  :value=\"item\" v-if=\"checkAble(item)\"></uni-choose-btn>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\n\t\t\t\t\t</uni-choose-group>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport UniChooseBtn from \"../uni-chooser/uni-choose-btn.vue\";\n\timport UniChooseGroup from \"../uni-chooser/uni-choose-group.vue\"\n\texport default {\n\t\tname: \"tki-tree\",\n\t\tcomponents: {\n\t\t\tUniChooseGroup,\n\t\t\tUniChooseBtn\n\t\t},\n\t\tprops: {\n\t\t\trange: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: function() {\n\t\t\t\t\treturn []\n\t\t\t\t}\n\t\t\t},\n\t\t\tidKey: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'id'\n\t\t\t},\n\t\t\trangeKey: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'label'\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\tmultiple: { // 是否可以多选\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t\t// default: true\n\t\t\t},\n\t\t\tselectParent: { //是否可以选父级\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\tfoldAll: { //折叠时关闭所有已经打开的子集，再次打开时需要一级一级打开\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\tconfirmColor: { // 确定按钮颜色\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '' // #07bb07\n\t\t\t},\n\t\t\tcancelColor: { // 取消按钮颜色\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '' // #757575\n\t\t\t},\n\t\t\ttitleColor: { // 标题颜色\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '' // #757575\n\t\t\t},\n\t\t\tcurrentIcon: { // 展开时候的ic\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAABRCAYAAACqj0o2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEQ0QTM0MzQ1Q0RBMTFFOUE0MjY4NzI1Njc1RjI1ODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEQ0QTM0MzU1Q0RBMTFFOUE0MjY4NzI1Njc1RjI1ODIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowRDRBMzQzMjVDREExMUU5QTQyNjg3MjU2NzVGMjU4MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowRDRBMzQzMzVDREExMUU5QTQyNjg3MjU2NzVGMjU4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PidwepsAAAK0SURBVHja7JxbTsJAFIYHww7ciStgCeoGvGxAiOsgURegoL5720AXYLiIr0aJviq3Zx3PhIEnKG3ndtr+f3KixrSUj/ZjzjClIqUUiFm2gAAQAREQEUAEREAERAQQAREQAREBREAEREBEEqa67h9RFDWllDv0awWYlqlQHmu1WjMRRMoV1QFttA12y3xRtdNczq8EsE4/f8FumX2q77ROvNXk8UGMEKdUz6tYJHljaZAbuyUH+UR1to5BEohTuqwPCeS4pAA/qY6o/kyHOAMCeRK3owJnj+rH1jjxhqpVsstaebCz6TmnHWyXyY+xHjSBWBY/bvSgadtXBj9u9KCN3rnIfkzkQVsTEEX0Y2IP2oKo/HhMICcFAThUcwVZNGU6FdbX/XURzkbVF4+ybGhjPrFdgP66QdXNurGtSdk6Xdb9nAJ8oDo3OQlsQZzkdPw41ONBo6vI5scDefRjZg+6gpg3Pxp50CXEvPjR2IOuIXL3oxUPuobI3Y9WPOgDIlc/WvOgL4iL/vqFCcD7LH0xB4hj7cfQ/fWH9qCT+FhG0tN+DBk1PzjOM0SVllixcsBT1AvYc/kAPhc0hRg/3uvxoCgKRN9+dOrBUBB9+9GpB0NC9OVH5x4MDdG1H714kANEV3705kEOEBf9dcPi/lQnsuvLg1wgSu3Ha0v7Uh4MMgUXeuG71H407a+VBy9CPQkOdw+MtB+nGbd/D+FBbhBNxo9SjwcngJjNj0E9yBFiFj8G9SBXiGn8GNyDnCEm8SMLD3KHGOdHNh7kDjHOj2w8mAeIi/5arX+c6b/fxHz9oADEdGdjR/fXCw/OOB5oVfCOgnepz8IB14PMw03jCmTE+QBx5z0gAmKSqK9OUF+hcAeIhu/QYr4Qie8rjW83hhMBERARQAREQAREBBABERCLnH8BBgA+TQI7U4t53AAAAABJRU5ErkJggg=='\n\t\t\t},\n\t\t\tdefaultIcon: { // 折叠时候的ic\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAABRCAYAAACqj0o2AAACE0lEQVR4Xu3c200DMRCF4XEltJAOkEugA+ggpUAHoQMqiFMCdEAJUMEiS4mEELlIO7bPOeN9i6K1rG/952myyea1WiCtXmEuYBPR4RBMxInoIOCwhOtJLKVszWyXc/5y2BvNEq6I+/3+kFK6M7OHnPM7jcLKjbZAvD/uaZtzflm5P4rbWyJWgDcze1LPuzVihfxUz7sH4ilJ2bx7Isrm3RtRMu8RiHJ5j0SUyXs0okTeCIj0eSMh0uaNhkiZNyIiXd7IiDR5oyNS5M2ACJ83EyJs3myIkHkzIsLlzYwIkzc7IkTeCojD81ZCHJa3GuKQvBURu+etjNgtb3XELnlHQGyedyTEZnlHQ2ySd0RE97wjI7rlHR3RJe+JeIrbLOecD6ePpZQ6W1kn2epo4MUrPOKyLN8ppYq1+y1VStncOjIdGnFZlo+U0uOtWOeOY2TE12Ouq//pEA7xXL7XfvcufR8K0Svfv6CREN3yDYfYIt9QiK3yjYTYLF95xB75SiP2ylcZsVu+cogj8pVCHJWvEuKwfOkREfKlRkTJlxkRJl86RMR8qRBR82VChM0XHpEhX2hElnyREWnyhUNkzBcKkTVfJETafIcjKuQ7FFEl35GIMvl2R1TMtyuiar49EWXzbY5oZpv/hibXTF2h3+s60FRKeT6+3TjMS3nrA3ZFRD8xrfY3ER1kJ+JEdBBwWGKeRAfEH1wS5WFZSDB/AAAAAElFTkSuQmCC'\n\t\t\t},\n\t\t\tlastIcon: { // 没有子集的ic\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\tborder: { // 是否有分割线\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\tcheckAble: {\n\t\t\t\ttype: Function,\n\t\t\t\tdefault: (e) => {\n\t\t\t\t\treturn e.lastRank\n\t\t\t\t}\n\t\t\t},\n\t\t\tchecked: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: () => {\n\t\t\t\t\treturn []\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshowTree: true,\n\t\t\t\ttreeList: [],\n\t\t\t\tselectIndex: -1,\n\t\t\t\tids:[]\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\n\t\t},\n\t\tmounted() {\n\t\t\tthis._initTree();\n\t\t},\n\t\tmethods: {\n\t\t\tchooseChange(e){\n\t\t\t\tthis.ids=e\n\t\t\t},\n\t\t\tonItemClick(item) {\n\t\t\t\tconsole.log('@treeonItemClick@ttttttree@')\n\t\t\t\tif (this.checkAble(item)) {\n\t\t\t\t\tthis.$refs.chooser.chooseItem(item)\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * 设置默认选中项\n\t\t\t */\n\t\t\tsetDefChoose() {\n\t\t\t\tconsole.log('@tree默认选中@ttttttree@')\n\t\t\t\tif (this.checked) {\n\t\t\t\t\tthis.$refs.chooser.clear()\n\t\t\t\t\tthis.treeList.forEach(item => {\n\t\t\t\t\t\tlet ced = this.checked.indexOf(item.id + '') != -1\n\t\t\t\t\t\t// console.log('@tree默认选中@tree@',this.checked,ced,item.id)\n\t\t\t\t\t\tif (ced) {\n\t\t\t\t\t\t\tthis.$refs.chooser.setDefChoose(item)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * 是否被选中\n\t\t\t * @param {Object} item\n\t\t\t */\n\t\t\thasChecked(item) {\n\t\t\t\tif (this.multiple) {\n\t\t\t\t\tlet ced = this.checked.indexOf(item.id + '') != -1\n\t\t\t\t\t// console.log('默认',ced,this.checked,item.id)\n\t\t\t\t\treturn ced\n\t\t\t\t} else {\n\t\t\t\t\tif (this.checked.length > 0) {\n\t\t\t\t\t\treturn this.checked[0] == (item.id + '')\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t},\n\t\t\t_show() {\n\t\t\t\tthis.showTree = true\n\t\t\t},\n\t\t\t_hide() {\n\t\t\t\tthis.showTree = false\n\t\t\t},\n\t\t\t_cancel() {\n\t\t\t\tthis._hide()\n\t\t\t\tthis.$emit(\"cancel\", '');\n\t\t\t},\n\t\t\t_confirm() {\n\t\t\t\t// 处理所选数据\n\t\t\t\tlet rt = [],\n\t\t\t\t\tobj = {};\n\t\t\t\tthis.treeList.forEach((v, i) => {\n\t\t\t\t\tif (this.treeList[i].checked) {\n\t\t\t\t\t\tobj = {}\n\t\t\t\t\t\tobj.parents = this.treeList[i].parents\n\t\t\t\t\t\tobj = Object.assign(obj, this.treeList[i].source)\n\t\t\t\t\t\t// 移除子元素\n\t\t\t\t\t\tdelete obj.children\n\t\t\t\t\t\trt.push(obj)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis._hide()\n\t\t\t\tthis.$emit(\"confirm\", rt);\n\t\t\t},\n\t\t\t//扁平化树结构\n\t\t\t_renderTreeList(list = [], rank = 0, parentId = [], parents = []) {\n\t\t\t\tlist.forEach(item => {\n\t\t\t\t\tthis.treeList.push({\n\t\t\t\t\t\tid: item[this.idKey],\n\t\t\t\t\t\tname: item[this.rangeKey],\n\t\t\t\t\t\tsource: item,\n\t\t\t\t\t\tparentId, // 父级id数组\n\t\t\t\t\t\tparents, // 父级id数组\n\t\t\t\t\t\trank, // 层级\n\t\t\t\t\t\tshowChild: false, //子级是否显示\n\t\t\t\t\t\topen: false, //是否打开\n\t\t\t\t\t\tshow: rank === 0, // 自身是否显示\n\t\t\t\t\t\thideArr: [],\n\t\t\t\t\t\torChecked: item.checked ? item.checked : false,\n\t\t\t\t\t\tchecked: item.checked ? item.checked : false,\n\t\t\t\t\t})\n\t\t\t\t\tif (Array.isArray(item.children) && item.children.length > 0) {\n\t\t\t\t\t\t// console.log(item)\n\t\t\t\t\t\tlet parentid = [...parentId],\n\t\t\t\t\t\t\tparentArr = [...parents],\n\t\t\t\t\t\t\tchildrenid = [...childrenid];\n\t\t\t\t\t\tdelete parentArr.children\n\t\t\t\t\t\tparentid.push(item[this.idKey]);\n\t\t\t\t\t\tparentArr.push({\n\t\t\t\t\t\t\t[this.idKey]: item[this.idKey],\n\t\t\t\t\t\t\t[this.rangeKey]: item[this.rangeKey]\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis._renderTreeList(item.children, rank + 1, parentid, parentArr);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.treeList[this.treeList.length - 1].lastRank = true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// console.log(list)\n\t\t\t},\n\t\t\t// 处理默认选择\n\t\t\t_defaultSelect() {\n\t\t\t\tthis.treeList.forEach((v, i) => {\n\t\t\t\t\tif (v.checked) {\n\t\t\t\t\t\tthis.treeList.forEach((v2, i2) => {\n\t\t\t\t\t\t\tif (v.parentId.toString().indexOf(v2.parentId.toString()) >= 0) {\n\t\t\t\t\t\t\t\tv2.show = true\n\t\t\t\t\t\t\t\tif (v.parentId.includes(v2.id)) {\n\t\t\t\t\t\t\t\t\tv2.showChild = true;\n\t\t\t\t\t\t\t\t\tv2.open = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 点击\n\t\t\t_treeItemTap(item, index) {\n\t\t\t\tif (item.lastRank === true) {\n\t\t\t\t\t//点击最后一级时触发事件\n\t\t\t\t\tthis.treeList[index].checked = !this.treeList[index].checked\n\t\t\t\t\tthis._fixMultiple(index)\n\t\t\t\t\tthis.onItemClick(item)\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet list = this.treeList;\n\t\t\t\tlet id = item.id;\n\t\t\t\titem.showChild = !item.showChild;\n\t\t\t\titem.open = item.showChild ? true : !item.open;\n\t\t\t\tlist.forEach((childItem, i) => {\n\t\t\t\t\tif (item.showChild === false) {\n\t\t\t\t\t\t//隐藏所有子级\n\t\t\t\t\t\tif (!childItem.parentId.includes(id)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!this.foldAll) {\n\t\t\t\t\t\t\tif (childItem.lastRank !== true && !childItem.open) {\n\t\t\t\t\t\t\t\tchildItem.showChild = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// 为隐藏的内容添加一个标记\n\t\t\t\t\t\t\tif (childItem.show) {\n\t\t\t\t\t\t\t\tchildItem.hideArr[item.rank] = id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (childItem.lastRank !== true) {\n\t\t\t\t\t\t\t\tchildItem.showChild = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchildItem.show = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 打开子集\n\t\t\t\t\t\tif (childItem.parentId[childItem.parentId.length - 1] === id) {\n\t\t\t\t\t\t\tchildItem.show = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 打开被隐藏的子集\n\t\t\t\t\t\tif (childItem.parentId.includes(id) && !this.foldAll) {\n\t\t\t\t\t\t\t// console.log(childItem.hideArr)\n\t\t\t\t\t\t\tif (childItem.hideArr[item.rank] === id) {\n\t\t\t\t\t\t\t\tchildItem.show = true;\n\t\t\t\t\t\t\t\tif (childItem.open && childItem.showChild) {\n\t\t\t\t\t\t\t\t\tchildItem.showChild = true\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tchildItem.showChild = false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchildItem.hideArr[item.rank] = null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// console.log(childItem.hideArr)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// console.log(this.treeList)\n\t\t\t},\n\t\t\t_treeItemSelect(item, index) {\n\t\t\t\tthis.treeList[index].checked = !this.treeList[index].checked\n\t\t\t\tthis._fixMultiple(index)\n\t\t\t\tthis.$emit('getTreelist', this.treeList)\n\t\t\t},\n\t\t\t// 处理单选多选\n\t\t\t_fixMultiple(index) {\n\t\t\t\tif (!this.multiple) {\n\t\t\t\t\t// 如果是单选\n\t\t\t\t\tthis.treeList.forEach((v, i) => {\n\t\t\t\t\t\tif (i != index) {\n\t\t\t\t\t\t\tthis.treeList[i].checked = false\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.treeList[i].checked = true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 重置数据\n\t\t\t_reTreeList() {\n\t\t\t\tthis.treeList.forEach((v, i) => {\n\t\t\t\t\tthis.treeList[i].checked = v.orChecked\n\t\t\t\t})\n\t\t\t},\n\t\t\t_initTree(range = this.range) {\n\t\t\t\tthis.treeList = [];\n\t\t\t\tthis._renderTreeList(range);\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.setDefChoose()\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\trange(list) {\n\t\t\t\tthis._initTree(list);\n\t\t\t},\n\t\t\tmultiple() {\n\t\t\t\tif (this.range.length) {\n\t\t\t\t\tthis._reTreeList();\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectParent() {\n\t\t\t\tif (this.range.length) {\n\t\t\t\t\tthis._reTreeList();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t}\n</script>\n\n<style scoped>\n\t@import \"./style.css\";\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-tree.vue?vue&type=style&index=0&id=a8274bb8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-tree.vue?vue&type=style&index=0&id=a8274bb8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683342406196\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}